{% extends 'base.html.twig' %}

{% block title %}
    Équipe - {{ team.name }}
{% endblock %}


{% block body %}
    <h1 class="text-center">
        Équipe - {{ team.name }}
    </h1>
    <hr>
    {% if is_granted('ROLE_USER') %}
        <a href="{{ path('team_edit', {'id': team.id}) }}" class="btn btn-outline-warning">
            Éditer cette équipe
        </a>
        <hr>
    {% endif %}
    <h2>Statistiques</h2>
    <div class="row">
        <div class="col-12 col-lg-6">
            {{ render_chart(chart) }}
        </div>
        <div class="col-12 col-lg-6">
            {{ render_chart(goalChart) }}
        </div>
        <div class="col-12">
            {{ render_chart(eloHistoryChart) }}
        </div>
    </div>
    <hr>
    <h2>Matchs</h2>
    <table class="table">
        <thead>
        <tr>
            <th>Équipes</th>
            <th>Tournoi</th>
            <th>Résultat</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        {% for match in matches %}
            <tr class="{{ match.winner == team ? "table-success" : match.loser == team ? "table-danger" : "table-warning" }}">
                <td>{{ match.hostingTeam }} - {{ match.receivingTeam }}</td>
                <td>{{ match.tournament.name }}</td>
                <td>{{ match.hostingTeamScore }} - {{ match.receivingTeamScore }}</td>
                <td>{{ match.description }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}


